<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Application</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .nav {
            display: flex;
            background: #f5f5f5;
            border-bottom: 2px solid #e0e0e0;
            flex-wrap: wrap;
        }

        .nav button {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            color: #333;
            transition: all 0.3s;
            min-width: 150px;
        }

        .nav button:hover {
            background: #e8e8e8;
        }

        .nav button.active {
            background: #667eea;
            color: white;
        }

        .content {
            padding: 30px;
            min-height: 500px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .card {
            background: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
        }

        .card h2 {
            margin-bottom: 15px;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
        }

        .btn-success {
            background: #48bb78;
            color: white;
        }

        .btn-success:hover {
            background: #38a169;
        }

        .btn-danger {
            background: #f56565;
            color: white;
        }

        .btn-danger:hover {
            background: #e53e3e;
        }

        .btn-secondary {
            background: #718096;
            color: white;
        }

        .btn-secondary:hover {
            background: #4a5568;
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 14px;
        }

        .question-list {
            list-style: none;
        }

        .question-item {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            transition: box-shadow 0.3s;
        }

        .question-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .question-item h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .question-meta {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            font-size: 14px;
            color: #666;
        }

        .tag {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            margin-right: 5px;
        }

        .quiz-question {
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .quiz-question h3 {
            margin-bottom: 20px;
            color: #333;
        }

        .answer-option {
            background: #f9f9f9;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .answer-option:hover {
            border-color: #667eea;
            background: #f0f0ff;
        }

        .answer-option.selected {
            border-color: #667eea;
            background: #e8e8ff;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .alert {
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .alert-success {
            background: #c6f6d5;
            color: #22543d;
            border: 1px solid #9ae6b4;
        }

        .alert-error {
            background: #fed7d7;
            color: #742a2a;
            border: 1px solid #fc8181;
        }

        .alert-info {
            background: #bee3f8;
            color: #2c5282;
            border: 1px solid #90cdf4;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .answer-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .answer-item input[type="checkbox"],
        .answer-item input[type="radio"] {
            width: auto;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-card h3 {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .stat-card p {
            opacity: 0.9;
        }

        .notice {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ¯ Quiz Application</h1>
            <p>Create, manage, and take quizzes with ease</p>
        </div>

        <div class="nav">
            <button class="nav-btn active" onclick="showSection('dashboard', this)">Dashboard</button>
            <button class="nav-btn" onclick="showSection('questions', this)">Questions</button>
            <button class="nav-btn" onclick="showSection('create-question', this)">Create Question</button>
            <button class="nav-btn" onclick="showSection('tags', this)">Tags</button>
            <button class="nav-btn" onclick="showSection('quiz', this)">Take Quiz</button>
            <button class="nav-btn" onclick="showSection('analytics', this)">Analytics</button>
        </div>

        <div class="content">
            <div class="notice">
                <strong>Note:</strong> This is a static version. All data is stored in your browser's localStorage. 
                Data is only available on this browser/device.
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard" class="section active">
                <h2>Dashboard</h2>
                <div id="dashboard-stats" class="stats-grid">
                    <div class="stat-card">
                        <h3 id="stat-questions">-</h3>
                        <p>Total Questions</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="stat-tags">-</h3>
                        <p>Total Tags</p>
                    </div>
                </div>
            </div>

            <!-- Questions List Section -->
            <div id="questions" class="section">
                <h2>Questions</h2>
                <div class="card">
                    <div class="form-group">
                        <input type="text" id="search-questions" placeholder="Search questions..." onkeyup="searchQuestions()">
                    </div>
                </div>
                <div id="questions-list" class="loading">Loading questions...</div>
            </div>

            <!-- Create Question Section -->
            <div id="create-question" class="section">
                <h2>Create New Question</h2>
                <div class="card">
                    <form id="question-form">
                        <div class="form-group">
                            <label>Question Text *</label>
                            <textarea id="question-text" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>Question Type *</label>
                            <select id="question-type" required onchange="updateAnswerFields()">
                                <option value="">Select type...</option>
                                <option value="multiple_choice">Multiple Choice</option>
                                <option value="true_false">True/False</option>
                                <option value="select_all">Select All</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Answers *</label>
                            <div id="answer-fields"></div>
                            <button type="button" class="btn btn-secondary" onclick="addAnswerField()">Add Answer</button>
                        </div>
                        <div class="form-group">
                            <label>Tags (comma-separated) *</label>
                            <input type="text" id="question-tags" placeholder="e.g., math, algebra" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Create Question</button>
                    </form>
                </div>
            </div>

            <!-- Tags Section -->
            <div id="tags" class="section">
                <h2>Tags</h2>
                <div id="tags-list" class="loading">Loading tags...</div>
            </div>

            <!-- Quiz Section -->
            <div id="quiz" class="section">
                <h2>Take Quiz</h2>
                <div class="card" id="quiz-config">
                    <h3>Quiz Configuration</h3>
                    <div class="form-group">
                        <label>Number of Questions</label>
                        <input type="number" id="quiz-count" value="10" min="1" max="100">
                    </div>
                    <button type="button" class="btn btn-primary" onclick="startQuiz()">Start Quiz</button>
                </div>
                <div id="quiz-content" style="display: none;">
                    <div id="quiz-questions"></div>
                    <div class="quiz-navigation">
                        <button type="button" class="btn btn-secondary" onclick="cancelQuiz()">Cancel Quiz</button>
                        <button type="button" class="btn btn-success" onclick="submitQuiz()">Submit Quiz</button>
                    </div>
                </div>
            </div>

            <!-- Analytics Section -->
            <div id="analytics" class="section">
                <h2>Analytics</h2>
                <div id="analytics-content" class="loading">Loading analytics...</div>
            </div>
        </div>
    </div>

    <script>
        // Storage Manager - localStorage based
        class StorageManager {
            constructor() {
                this.QUESTIONS_KEY = 'quiz_app_questions';
                this.TAGS_KEY = 'quiz_app_tags';
            }

            getQuestions() {
                const data = localStorage.getItem(this.QUESTIONS_KEY);
                return data ? JSON.parse(data) : [];
            }

            saveQuestions(questions) {
                localStorage.setItem(this.QUESTIONS_KEY, JSON.stringify(questions));
            }

            addQuestion(question) {
                const questions = this.getQuestions();
                questions.push(question);
                this.saveQuestions(questions);
                return question;
            }

            deleteQuestion(id) {
                const questions = this.getQuestions();
                const filtered = questions.filter(q => q.id !== id);
                this.saveQuestions(filtered);
                return filtered.length < questions.length;
            }

            searchQuestions(searchTerm) {
                let questions = this.getQuestions();
                if (searchTerm) {
                    const term = searchTerm.toLowerCase();
                    questions = questions.filter(q => 
                        q.question_text.toLowerCase().includes(term)
                    );
                }
                return questions;
            }

            getTags() {
                const data = localStorage.getItem(this.TAGS_KEY);
                return data ? JSON.parse(data) : [];
            }

            saveTags(tags) {
                localStorage.setItem(this.TAGS_KEY, JSON.stringify(tags));
            }

            addTag(tag) {
                const tags = this.getTags();
                if (tags.find(t => t.name.toLowerCase() === tag.name.toLowerCase())) {
                    return null;
                }
                tags.push(tag);
                this.saveTags(tags);
                return tag;
            }

            deleteTag(id) {
                const tags = this.getTags();
                const filtered = tags.filter(t => t.id !== id);
                this.saveTags(filtered);
                return filtered.length < tags.length;
            }

            getTagByName(name) {
                const tags = this.getTags();
                return tags.find(t => t.name.toLowerCase() === name.toLowerCase());
            }

            getStats() {
                const questions = this.getQuestions();
                const tags = this.getTags();
                const byType = {};
                questions.forEach(q => {
                    byType[q.question_type] = (byType[q.question_type] || 0) + 1;
                });
                return {
                    total_questions: questions.length,
                    total_tags: tags.length,
                    questions_by_type: byType
                };
            }
        }

        const storage = new StorageManager();

        // Navigation
        function showSection(sectionId, buttonElement) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            if (buttonElement) {
                buttonElement.classList.add('active');
            }

            // Load section data
            if (sectionId === 'questions') {
                loadQuestions();
            } else if (sectionId === 'tags') {
                loadTags();
            } else if (sectionId === 'dashboard') {
                loadDashboard();
            } else if (sectionId === 'analytics') {
                loadAnalytics();
            }
        }

        // Dashboard
        function loadDashboard() {
            const stats = storage.getStats();
            document.getElementById('stat-questions').textContent = stats.total_questions || 0;
            document.getElementById('stat-tags').textContent = stats.total_tags || 0;
        }

        // Questions
        function loadQuestions() {
            const listEl = document.getElementById('questions-list');
            listEl.innerHTML = '<div class="loading">Loading questions...</div>';
            
            setTimeout(() => {
                const questions = storage.getQuestions();
                
                if (questions.length === 0) {
                    listEl.innerHTML = '<div class="alert alert-info">No questions found. Create some questions first!</div>';
                    return;
                }

                listEl.innerHTML = '<ul class="question-list">' + questions.map(q => `
                    <li class="question-item">
                        <h3>${escapeHtml(q.question_text)}</h3>
                        <div class="question-meta">
                            <span><strong>Type:</strong> ${q.question_type}</span>
                            <span><strong>Answers:</strong> ${q.answers?.length || 0}</span>
                        </div>
                        <div style="margin-top: 10px;">
                            ${(q.tags || []).map(tag => `<span class="tag">${escapeHtml(tag)}</span>`).join('')}
                        </div>
                        <div style="margin-top: 15px;">
                            <button class="btn btn-danger btn-sm" onclick="deleteQuestion('${q.id}')">Delete</button>
                        </div>
                    </li>
                `).join('') + '</ul>';
            }, 100);
        }

        function searchQuestions() {
            const term = document.getElementById('search-questions').value;
            const listEl = document.getElementById('questions-list');
            listEl.innerHTML = '<div class="loading">Searching...</div>';
            
            setTimeout(() => {
                const questions = storage.searchQuestions(term);
                
                if (questions.length === 0) {
                    listEl.innerHTML = '<div class="alert alert-info">No questions found.</div>';
                    return;
                }

                listEl.innerHTML = '<ul class="question-list">' + questions.map(q => `
                    <li class="question-item">
                        <h3>${escapeHtml(q.question_text)}</h3>
                        <div class="question-meta">
                            <span><strong>Type:</strong> ${q.question_type}</span>
                            <span><strong>Answers:</strong> ${q.answers?.length || 0}</span>
                        </div>
                        <div style="margin-top: 10px;">
                            ${(q.tags || []).map(tag => `<span class="tag">${escapeHtml(tag)}</span>`).join('')}
                        </div>
                        <div style="margin-top: 15px;">
                            <button class="btn btn-danger btn-sm" onclick="deleteQuestion('${q.id}')">Delete</button>
                        </div>
                    </li>
                `).join('') + '</ul>';
            }, 100);
        }

        function deleteQuestion(id) {
            if (!confirm('Are you sure you want to delete this question?')) return;
            storage.deleteQuestion(id);
            showAlert('Question deleted successfully', 'success');
            loadQuestions();
        }

        // Create Question
        let answerFields = [];

        function updateAnswerFields() {
            const type = document.getElementById('question-type').value;
            answerFields = [];

            if (type === 'true_false') {
                answerFields = [
                    { text: 'True', is_correct: false },
                    { text: 'False', is_correct: false }
                ];
            } else {
                answerFields = [
                    { text: '', is_correct: false },
                    { text: '', is_correct: false }
                ];
            }
            renderAnswerFields();
        }

        function addAnswerField() {
            answerFields.push({ text: '', is_correct: false });
            renderAnswerFields();
        }

        function renderAnswerFields() {
            const container = document.getElementById('answer-fields');
            const questionType = document.getElementById('question-type').value;
            const isSelectAll = questionType === 'select_all';
            
            container.innerHTML = answerFields.map((ans, idx) => `
                <div class="answer-item">
                    <input type="text" placeholder="Answer text" value="${escapeHtml(ans.text)}" 
                           onchange="answerFields[${idx}].text = this.value">
                    <input type="${isSelectAll ? 'checkbox' : 'radio'}" 
                           name="${isSelectAll ? 'correct-' + idx : 'correct-answer'}" 
                           ${ans.is_correct ? 'checked' : ''}
                           onchange="answerFields[${idx}].is_correct = this.checked; ${!isSelectAll ? 'answerFields.forEach((a, i) => { if (i !== ' + idx + ') a.is_correct = false; });' : ''}">
                    <label>Correct</label>
                    ${answerFields.length > 2 ? `<button type="button" class="btn btn-danger btn-sm" onclick="removeAnswerField(${idx})">Remove</button>` : ''}
                </div>
            `).join('');
        }

        function removeAnswerField(idx) {
            if (answerFields.length <= 2) {
                alert('You need at least 2 answer options');
                return;
            }
            answerFields.splice(idx, 1);
            renderAnswerFields();
        }

        document.getElementById('question-form').onsubmit = (e) => {
            e.preventDefault();
            const type = document.getElementById('question-type').value;
            
            // Update answerFields from the form inputs
            const inputs = document.querySelectorAll('#answer-fields input[type="text"]');
            const checkboxes = document.querySelectorAll('#answer-fields input[type="checkbox"]');
            const radios = document.querySelectorAll('#answer-fields input[type="radio"]');
            
            inputs.forEach((input, idx) => {
                if (answerFields[idx]) {
                    answerFields[idx].text = input.value;
                }
            });
            
            if (type === 'select_all') {
                checkboxes.forEach((cb, idx) => {
                    if (answerFields[idx]) {
                        answerFields[idx].is_correct = cb.checked;
                    }
                });
            } else {
                radios.forEach((radio, idx) => {
                    if (answerFields[idx]) {
                        answerFields[idx].is_correct = radio.checked;
                    }
                });
            }

            const validAnswers = answerFields.filter(a => a.text.trim());
            if (validAnswers.length < 2) {
                alert('You need at least 2 answer options');
                return;
            }

            const questionData = {
                id: 'q_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                question_text: document.getElementById('question-text').value,
                question_type: type,
                answers: validAnswers,
                tags: document.getElementById('question-tags').value.split(',').map(t => t.trim()).filter(t => t),
                created_at: new Date().toISOString(),
                usage_count: 0
            };

            storage.addQuestion(questionData);

            // Auto-create tags if they don't exist
            questionData.tags.forEach(tagName => {
                if (!storage.getTagByName(tagName)) {
                    const tag = {
                        id: 't_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                        name: tagName,
                        description: '',
                        color: null,
                        created_at: new Date().toISOString()
                    };
                    storage.addTag(tag);
                }
            });

            showAlert('Question created successfully!', 'success');
            document.getElementById('question-form').reset();
            answerFields = [];
            document.getElementById('answer-fields').innerHTML = '';
        };

        // Tags
        function loadTags() {
            const listEl = document.getElementById('tags-list');
            listEl.innerHTML = '<div class="loading">Loading tags...</div>';
            
            setTimeout(() => {
                const tags = storage.getTags();
                
                if (tags.length === 0) {
                    listEl.innerHTML = '<div class="alert alert-info">No tags found.</div>';
                    return;
                }

                listEl.innerHTML = '<ul class="question-list">' + tags.map(tag => `
                    <li class="question-item">
                        <h3>${escapeHtml(tag.name)}</h3>
                        ${tag.description ? `<p>${escapeHtml(tag.description)}</p>` : ''}
                        <div style="margin-top: 15px;">
                            <button class="btn btn-danger btn-sm" onclick="deleteTag('${tag.id}')">Delete</button>
                        </div>
                    </li>
                `).join('') + '</ul>';
            }, 100);
        }

        function deleteTag(id) {
            if (!confirm('Are you sure you want to delete this tag?')) return;
            storage.deleteTag(id);
            showAlert('Tag deleted successfully', 'success');
            loadTags();
        }

        // Quiz
        let currentQuiz = null;

        function startQuiz() {
            const count = parseInt(document.getElementById('quiz-count').value) || 10;
            const questions = storage.getQuestions();
            
            if (questions.length === 0) {
                alert('No questions available. Create some questions first!');
                return;
            }

            const shuffled = [...questions].sort(() => Math.random() - 0.5);
            const quizQuestions = shuffled.slice(0, Math.min(count, questions.length));
            
            currentQuiz = {
                questions: quizQuestions,
                answers: []
            };

            document.getElementById('quiz-config').style.display = 'none';
            document.getElementById('quiz-content').style.display = 'block';

            renderQuizQuestions(quizQuestions);
        }

        function renderQuizQuestions(questions) {
            const container = document.getElementById('quiz-questions');
            container.innerHTML = questions.map((q, idx) => `
                <div class="quiz-question" data-question-id="${q.id}">
                    <h3>Question ${idx + 1}: ${escapeHtml(q.question_text)}</h3>
                    ${(q.answers || []).map((ans, ansIdx) => `
                        <div class="answer-option" onclick="selectAnswer(${idx}, ${ansIdx}, '${q.id}')">
                            <input type="${q.question_type === 'select_all' ? 'checkbox' : 'radio'}" 
                                   name="q${idx}" id="q${idx}a${ansIdx}">
                            <label for="q${idx}a${ansIdx}">${escapeHtml(ans.text)}</label>
                        </div>
                    `).join('')}
                </div>
            `).join('');
        }

        function selectAnswer(qIdx, aIdx, questionId) {
            const questionEl = document.querySelector(`[data-question-id="${questionId}"]`);
            const option = questionEl.querySelectorAll('.answer-option')[aIdx];
            const input = option.querySelector('input');

            if (input.type === 'checkbox') {
                input.checked = !input.checked;
            } else {
                questionEl.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
                input.checked = true;
            }
            option.classList.toggle('selected', input.checked);
        }

        function cancelQuiz() {
            if (confirm('Are you sure you want to cancel the quiz?')) {
                currentQuiz = null;
                document.getElementById('quiz-config').style.display = 'block';
                document.getElementById('quiz-content').style.display = 'none';
            }
        }

        function submitQuiz() {
            if (!currentQuiz) return;

            let correct = 0;
            currentQuiz.questions.forEach((q) => {
                const questionEl = document.querySelector(`[data-question-id="${q.id}"]`);
                const selectedInputs = questionEl.querySelectorAll('input:checked');
                const selectedIndices = Array.from(selectedInputs).map(inp => {
                    return Array.from(questionEl.querySelectorAll('input')).indexOf(inp);
                });

                const correctIndices = q.answers.map((ans, idx) => ans.is_correct ? idx : -1).filter(i => i !== -1);
                const isCorrect = JSON.stringify(selectedIndices.sort()) === JSON.stringify(correctIndices.sort());

                if (isCorrect) correct++;
            });

            const score = ((correct / currentQuiz.questions.length) * 100).toFixed(1);
            showAlert(`Quiz completed! You scored ${correct}/${currentQuiz.questions.length} (${score}%)`, 'success');
            cancelQuiz();
        }

        // Analytics
        function loadAnalytics() {
            const contentEl = document.getElementById('analytics-content');
            const stats = storage.getStats();
            contentEl.innerHTML = `
                <div class="card">
                    <h3>Statistics</h3>
                    <p><strong>Total Questions:</strong> ${stats.total_questions}</p>
                    <p><strong>Total Tags:</strong> ${stats.total_tags}</p>
                    ${Object.keys(stats.questions_by_type).length > 0 ? `
                        <h4 style="margin-top: 20px;">Questions by Type</h4>
                        ${Object.entries(stats.questions_by_type).map(([type, count]) => 
                            `<p><strong>${type}:</strong> ${count}</p>`
                        ).join('')}
                    ` : ''}
                </div>
            `;
        }

        // Utility functions
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function showAlert(message, type) {
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.textContent = message;
            const content = document.querySelector('.content');
            content.insertBefore(alert, content.firstChild);
            setTimeout(() => alert.remove(), 5000);
        }

        // Initialize
        loadDashboard();
        updateAnswerFields();
    </script>
</body>
</html>
